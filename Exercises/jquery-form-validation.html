<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validation</title>
    <link rel="stylesheet" href="./jquery.form-validation.css">
</head>

<body>
    <form id="frmEjemplo" action="/my-handling-form-page" method="post">
        <ul>   
            <p id="errores"></p>
            <li>
                <label for="name">Name:</label>
                <input type="text" id="name" name="user_name">
            </li>
            <li>
                <label for="mail">E-mail:</label>
                <input type="email" id="mail" name="user_email">
            </li>
            <li>
                <label for="msg">Message:</label>
                <textarea id="msg" name="user_message"></textarea>
            </li>
            <li class="button">
                <button id="btnSubmit" type="submit">Send your message</button>
            </li>
        </ul>
    </form>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script>
        $(() => {

            let errores = [];

            $('#btnSubmit').click(function (event) {
                validateData();
                event.preventDefault();
            });



            // $("#frmEjemplo input,#frmEjemplo textarea").each(function(){
            //     if(!$(this).val());
            //     agregarError($(this).attr("name"));
            // })


            function validateData() {

                errores = [];


                $("#frmEjemplo input,#frmEjemplo textarea").each(function(){
                if(!$(this).val())
                agregarError($(this).attr("name"));
            })


            //     let name =$('#name').val();
            //     let mail =$('#mail').val();
            //     let msg =$('#msg').val();

                // errores = [];

                // if(name.length == 0)
                //   agregarError('nombre');

                //   if(mail.length == 0)
                //   agregarError('correo');

                //   if(msg.length == 0)
                //   agregarError('mensaje');
                
                $('#errores').empty();
                errores.forEach((errorText) => {
                    let newError = `<li>${errorText}<li>`;
                    $("#errores").append(newError);
                });

                if(errores.length==0)
                alert('Mensaje enviado');

             }

            function agregarError(campo){
                errores.push(`Falta agregar el ${campo}`);
            }

        });
    </script>
</body>

</html>